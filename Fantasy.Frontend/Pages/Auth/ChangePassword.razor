@if (loading)
{
    <Loading />
}
else
{
    <MudDialog>
        <DialogContent>
            <EditForm Model="changePasswordDTO">
                <DataAnnotationsValidator />
                <MudGrid Spacing="3">
                    <MudItem xs="12">
                        <MudTextField Label="@L["UserCurrentPassword"]"
                                      InputType="InputType.Password"
                                      @bind-Value="@changePasswordDTO.CurrentPassword" />
                        <ValidationMessage For="@(() => changePasswordDTO.CurrentPassword)" />
                    </MudItem>
                    <MudItem xs="12">
                        <MudTextField Label="@L["UserNewPassword"]"
                                      InputType="InputType.Password"
                                      @bind-Value="@changePasswordDTO.NewPassword" />
                        <ValidationMessage For="@(() => changePasswordDTO.NewPassword)" />
                    </MudItem>
                    <MudItem xs="12">
                        <MudTextField Label="@L["UserPasswordConfirm"]"
                                      InputType="InputType.Password"
                                      @bind-Value="@changePasswordDTO.Confirm" />
                        <ValidationMessage For="@(() => changePasswordDTO.Confirm)" />
                    </MudItem>
                </MudGrid>
            </EditForm>
        </DialogContent>
        <DialogActions>
            <MudItem>
                <MudButton Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.Check" Color="Color.Primary" OnClick="ChangePasswordAsync">
                    @L["IUSaveChanges"]
                </MudButton>
            </MudItem>
            <MudItem>
                <MudButton Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.ArrowBack" Color="Color.Secondary" OnClick="ReturnAction">
                    @L["IUReturn"]
                </MudButton>
            </MudItem>
        </DialogActions>
    </MudDialog>
}